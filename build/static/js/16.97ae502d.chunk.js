(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{462:function(e,t,n){"use strict";var a=n(48),r=(n(236),n(172)),o=n(0),c=n.n(o),i=r.a.Title;t.a=function(e){var t=e.bold,n=e.children,r=Object(a.a)(e,["bold","children"]),o={color:"#7F7F7F",fontWeight:t?"bold":500};return c.a.createElement(i,Object.assign({style:o},r),n)}},463:function(e,t,n){"use strict";var a=n(48),r=n(0),o=n.n(r);t.a=function(e){var t=e.fieldName,n=e.value,r=e.customRender,c=Object(a.a)(e,["fieldName","value","customRender"]),i=r?r(n):n;return o.a.createElement("div",Object.assign({style:{marginBottom:14}},c),o.a.createElement("small",{style:{fontWeight:"bold"}},t),o.a.createElement("div",null,i))}},464:function(e,t,n){"use strict";n(474);var a=n(472),r=n(41),o=n(48),c=n(0),i=n.n(c);n(465);function l(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)};function f(e){var t=e.data,n=e.excludeColumns,r=e.columnProperty,c=Object(o.a)(e,["data","excludeColumns","columnProperty"]),l=function(e){if(e[0]){var t=r;return Object.keys(e[0]).filter(function(e){return!1===n.includes(e)}).map(function(e){for(var n={title:s(e),key:e,dataIndex:e},a=0;a<t.length;a++){var r=t[a];r.dataIndex===e&&(n=u({},n,{},r))}return n})}}(t);return i.a.createElement(a.a,Object.assign({rowKey:function(e){return e.id||e._id},columns:l,dataSource:t&&t[0]?t:null},c))}f.defaultProps={data:[],title:"Result",excludeColumns:[]},t.a=f},465:function(e,t,n){},467:function(e,t,n){"use strict";n(22),n(237),n(168)},468:function(e,t,n){"use strict";var a=n(0),r=n(19),o=n(45),c=n(15),i=n(61),l=n(49),u=n(124),s=n(11);function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},O=function(e){function t(e){var n,r,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,c=d(t).call(this,e),(n=!c||"object"!==f(c)&&"function"!==typeof c?b(r):c).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(b(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(b(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var r=n.props,o=r.okButtonProps,c=r.cancelButtonProps,l=r.title,u=r.cancelText,s=r.okText,f=r.okType,m=r.icon;return a.createElement("div",null,a.createElement("div",{className:"".concat(e,"-inner-content")},a.createElement("div",{className:"".concat(e,"-message")},m,a.createElement("div",{className:"".concat(e,"-message-title")},l)),a.createElement("div",{className:"".concat(e,"-buttons")},a.createElement(i.a,p({onClick:n.onCancel,size:"small"},c),u||t.cancelText),a.createElement(i.a,p({onClick:n.onConfirm,type:f,size:"small"},o),s||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,r=n.props,c=r.prefixCls,i=r.placement,s=v(r,["prefixCls","placement"]),f=t("popover",c),m=a.createElement(l.a,{componentName:"Popconfirm",defaultLocale:u.a.Popconfirm},function(e){return n.renderOverlay(f,e)});return a.createElement(o.a,p({},s,{prefixCls:f,placement:i,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:m,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,r,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a["Component"]),n=t,c=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(r=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return a.createElement(s.a,null,this.renderConfirm)}}])&&m(n.prototype,r),c&&m(n,c),t}();O.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:a.createElement(c.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(r.polyfill)(O),t.a=O},552:function(e,t,n){},563:function(e,t,n){"use strict";n.r(t);n(169);var a=n(92),r=n(29),o=n(0),c=n.n(o),i=n(62),l=n(63),u=n(94),s=n(132),f=n(171),p=n(93),m=n(174),d=n(464),b=n(462),y=n(60),v=n(2),O=n.n(v),j=(n(471),n(473)),g=(n(467),n(468)),E=(n(168),n(61)),h=n(6),C=(n(170),n(76)),w=n(463),S=n(125);function k(e){var t=e.type,n=e.returnData,a=e.payload,o=c.a.useState(a?a.fakultas:""),i=Object(r.a)(o,2),l=i[0],u=i[1],s=c.a.useState(a?a.namaJurusan:""),f=Object(r.a)(s,2),p=f[0],m=f[1],d={fakultas:l,namaJurusan:p},b=Object(y.b)(d),v=Object(y.b)(t);c.a.useEffect(function(){JSON.stringify(b)!==JSON.stringify(d)&&n(d),"create"===t&&v!==t&&(u(""),m(""))},[d,b,v,n,t]);var O=[{Component:S.a,typeInput:"input",state:[p,m],label:"Nama Jurusan *",props:{type:"text",required:!0}},{Component:S.a,typeInput:"input",state:[l,u],label:"Fakultas *",props:{type:"text"}}],j=[].concat(O);var g="create"===t?j:O;return c.a.createElement("div",{className:t},c.a.createElement("form",null,g.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("label",null,c.a.createElement("small",null,e.label)),c.a.createElement(e.Component,Object.assign({},e.props,{onChange:function(t){"input"===e.typeInput&&e.state[1](t.target.value),"select"===e.typeInput&&e.state[1](t)},value:e.state[0]})))})))}var x=function(e){return Object.keys(e).map(function(t){return{fieldName:t,value:e[t]}})},P=function(e,t){var n=t||"";return t&&t.length&&t[0]&&("createdBy"===e||"updatedBy"===e)&&(n=t.map(function(e){return e.fullName}).toString()),{fieldName:e,value:n}},N=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!e.includes(t)};function _(e){var t=e.openModal,n=e.onClose,a=e.newEntry,o=e.onViewData,i=e.onUpdateSuccess,l=c.a.useState(!1),u=Object(r.a)(l,2),f=u[0],p=u[1],m=c.a.useState("edit"),d=Object(r.a)(m,2),b=d[0],v=d[1],S=c.a.useState({}),_=Object(r.a)(S,2),T=_[0],D=_[1],V=c.a.useState(!1),I=Object(r.a)(V,2),U=I[0],A=I[1],B=Object(y.d)("masterJurusan"),R=Object(r.a)(B,2),F=R[0],z=R[1],L=Object(y.c)("JURUSAN"),M=Object(r.a)(L,2),W=M[0],H=M[1],Z=c.a.useState(t),$=Object(r.a)(Z,2),q=$[0],K=$[1],G=Object(y.b)(a),Q=Object(y.b)(t),X=Object(y.b)(H);function Y(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(h.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!1);case 2:n(),v("edit"),p(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}c.a.useEffect(function(){a&&G!==a&&(K(!0),p(!0),v("create")),t&&Q!==t&&(K(!0),Object(s.f)(z,{id:o._id})),!1===H&&H!==X&&U&&!W&&("create"!==b?(Object(s.f)(z,{id:o._id}),n(),v("edit"),p(!1)):Y(),F&&F.message&&C.a.success(F.message),A(!1),i())},[z,W,U,H,a,n,Y,i,o._id,t,G,X,Q,b,F]);var te=function(){if("create"===b)Object(s.b)(z,T);else{var e=T;delete e.password,delete e.email,Object(s.e)(z,e,{id:F.data._id})}},ne=function(){Object(s.d)(z,{id:o._id}),Y(),setTimeout(function(){i()},200)},ae=o.namaJurusan||F&&F.data&&F.data.namaJurusan,re=ae&&"edit"===b?"Jurusan "+ae:"Jurusan";return c.a.createElement(j.a,{title:re,visible:q,onCancel:Y,footer:[c.a.createElement(function(){return c.a.createElement(g.a,{title:"Are you sure to delete?",onConfirm:ne},c.a.createElement(E.a,{style:{color:"tomato"},loading:H},"Delete"))},{key:"delete"}),c.a.createElement(E.a,{type:"primary",loading:H,key:"edit",onClick:function(){A(!0),f?te():p(!0)}},f?"Save":"Edit")]},f?c.a.createElement(k,{returnData:D,type:b,payload:F?F.data:{}}):F&&F.data&&!H?c.a.createElement("div",{className:"view"},x(F.data).filter(function(e){return J(["__v"],e.fieldName)}).map(function(e,t){var n=P(e.fieldName,e.value);return c.a.createElement(w.a,{key:t,fieldName:N(n.fieldName),value:n.value})})):c.a.createElement("div",null,"Loading..."))}n(552);t.default=function(e){var t=e.history.location.pathname,n=Object(l.b)().t,o=Object(y.c)("LIST_JURUSAN"),v=Object(r.a)(o,2)[1],O=c.a.useState({}),j=Object(r.a)(O,2),g=j[0],E=j[1],h=Object(y.d)("listMasterJurusan"),C=Object(r.a)(h,2),w=C[0],S=C[1],k=c.a.useState(!1),x=Object(r.a)(k,2),P=x[0],N=x[1],J=c.a.useState(!1),T=Object(r.a)(J,2),D=T[0],V=T[1],I=c.a.useState(1),U=Object(r.a)(I,2),A=U[0],B=U[1],R=Object(y.b)(w),F=Object(y.b)(t);function z(){Object(s.c)(S,{selected:"fakultas namaJurusan"})}c.a.useEffect(function(){w||w===R?t&&F!==t&&z():z()},[w,R,S,z,F,t]);var L=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(a.a,{gutter:24,style:{display:"flex",justifyContent:"flex-end",marginBottom:28}},c.a.createElement(m.a,{onClick:function(){return V(!0)},style:{maxWidth:280,margin:"0 14px",background:"#35b97a"},type:"secondary"},"Create")))};return c.a.createElement(u.a,{withHeader:!0},c.a.createElement(p.a,null,c.a.createElement("title",null,n("dashboard.jurusan.pageTitle"))),c.a.createElement(_,{newEntry:D,openModal:P,onViewData:g,onUpdateSuccess:z,onClose:function(){N(!1),V(!1),E({})}}),c.a.createElement(f.a,null,c.a.createElement("div",null,c.a.createElement(i.b,{style:{textDecoration:"underline"},to:"/"},"Home")," / ".concat("Jurusan")),c.a.createElement(b.a,{bold:!0,level:2},"Jurusan"),c.a.createElement("div",{className:"section-row"},c.a.createElement(d.a,{title:function(){return c.a.createElement(L,null)},data:w?w.data:[],scroll:{x:1300},columnProperty:[{dataIndex:"id",width:50,fixed:"left",sorter:function(e,t){return e.id-t.id}}],excludeColumns:["_id","createdBy"],onRowClick:function(e){E(e),N(!0)},pagination:{onChange:function(e){B(e)},total:w?w.count:10,defaultCurrent:Number(A)},loading:v}))))}}}]);
//# sourceMappingURL=16.97ae502d.chunk.js.map