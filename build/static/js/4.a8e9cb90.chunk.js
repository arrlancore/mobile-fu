(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{462:function(e,t,n){"use strict";var a=n(48),r=(n(236),n(172)),o=n(0),l=n.n(o),i=r.a.Title;t.a=function(e){var t=e.bold,n=e.children,r=Object(a.a)(e,["bold","children"]),o={color:"#7F7F7F",fontWeight:t?"bold":500};return l.a.createElement(i,Object.assign({style:o},r),n)}},463:function(e,t,n){"use strict";var a=n(48),r=n(0),o=n.n(r);t.a=function(e){var t=e.fieldName,n=e.value,r=e.customRender,l=Object(a.a)(e,["fieldName","value","customRender"]),i=r?r(n):n;return o.a.createElement("div",Object.assign({style:{marginBottom:14}},l),o.a.createElement("small",{style:{fontWeight:"bold"}},t),o.a.createElement("div",null,i))}},464:function(e,t,n){"use strict";n(474);var a=n(472),r=n(41),o=n(48),l=n(0),i=n.n(l);n(465);function c(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)};function p(e){var t=e.data,n=e.excludeColumns,r=e.columnProperty,l=Object(o.a)(e,["data","excludeColumns","columnProperty"]),c=function(e){if(e[0]){var t=r;return Object.keys(e[0]).filter(function(e){return!1===n.includes(e)}).map(function(e){for(var n={title:s(e),key:e,dataIndex:e},a=0;a<t.length;a++){var r=t[a];r.dataIndex===e&&(n=u({},n,{},r))}return n})}}(t);return i.a.createElement(a.a,Object.assign({rowKey:function(e){return e.id||e._id},columns:c,dataSource:t&&t[0]?t:null},l))}p.defaultProps={data:[],title:"Result",excludeColumns:[]},t.a=p},465:function(e,t,n){},466:function(e,t,n){"use strict";var a=n(48),r=(n(238),n(77)),o=n(0),l=n.n(o),i=(n(469),r.a.Option);function c(e){var t=e.optionList,n=e.type,o=e.label,c=Object(a.a)(e,["optionList","type","label"]),u="primary"===n,s=u?"#D5D6DB":"#2699FB";return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"select ".concat(o),style:{display:"block",color:s,fontWeight:"bold"}},o),l.a.createElement("div",{className:"select-root ".concat(u||"")},l.a.createElement(r.a,c,t.map(function(e){return l.a.createElement(i,{key:e.value,value:e.value},e.name)}))))}c.defaultProps={optionList:[]},t.a=c},467:function(e,t,n){"use strict";n(22),n(237),n(168)},468:function(e,t,n){"use strict";var a=n(0),r=n(19),o=n(45),l=n(15),i=n(61),c=n(49),u=n(124),s=n(11);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},O=function(e){function t(e){var n,r,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,l=d(t).call(this,e),(n=!l||"object"!==p(l)&&"function"!==typeof l?b(r):l).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(b(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(b(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var r=n.props,o=r.okButtonProps,l=r.cancelButtonProps,c=r.title,u=r.cancelText,s=r.okText,p=r.okType,m=r.icon;return a.createElement("div",null,a.createElement("div",{className:"".concat(e,"-inner-content")},a.createElement("div",{className:"".concat(e,"-message")},m,a.createElement("div",{className:"".concat(e,"-message-title")},c)),a.createElement("div",{className:"".concat(e,"-buttons")},a.createElement(i.a,f({onClick:n.onCancel,size:"small"},l),u||t.cancelText),a.createElement(i.a,f({onClick:n.onConfirm,type:p,size:"small"},o),s||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,r=n.props,l=r.prefixCls,i=r.placement,s=v(r,["prefixCls","placement"]),p=t("popover",l),m=a.createElement(c.a,{componentName:"Popconfirm",defaultLocale:u.a.Popconfirm},function(e){return n.renderOverlay(p,e)});return a.createElement(o.a,f({},s,{prefixCls:p,placement:i,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:m,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a["Component"]),n=t,l=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(r=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return a.createElement(s.a,null,this.renderConfirm)}}])&&m(n.prototype,r),l&&m(n,l),t}();O.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:a.createElement(l.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(r.polyfill)(O),t.a=O},469:function(e,t,n){},477:function(e,t,n){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return a})},555:function(e,t,n){},564:function(e,t,n){"use strict";n.r(t);n(169);var a=n(92),r=n(29),o=n(0),l=n.n(o),i=n(62),c=n(63),u=n(94),s=n(126),p=n(171),f=n(93),m=n(174),d=n(464),b=n(462),y=n(60),v=n(2),O=n.n(v),j=(n(471),n(473)),g=(n(467),n(468)),h=(n(168),n(61)),E=n(6),w=(n(170),n(76)),C=n(129),S=n(463),k=n(477),P=n(125),N=n(466);function x(e){var t=e.type,n=e.returnData,a=e.payload,o=l.a.useState(a?a.firstName:""),i=Object(r.a)(o,2),c=i[0],u=i[1],s=l.a.useState(a?a.lastName:""),p=Object(r.a)(s,2),f=p[0],m=p[1],d=l.a.useState(""),b=Object(r.a)(d,2),v=b[0],O=b[1],j=l.a.useState(void 0),g=Object(r.a)(j,2),h=g[0],E=g[1],w=l.a.useState(a?a.role:""),C=Object(r.a)(w,2),S=C[0],x=C[1],D=l.a.useState(a?a.status:""),_=Object(r.a)(D,2),T=_[0],I=_[1],V={firstName:c,lastName:f,password:h,email:v,role:S,status:T},A=Object(y.b)(V),B=Object(y.b)(t);l.a.useEffect(function(){JSON.stringify(A)!==JSON.stringify(V)&&n(V),"create"===t&&B!==t&&(u(""),m(""),O(""),E(""),x(""),I(""))},[V,A,B,n,t]);var L=[{Component:P.a,typeInput:"input",state:[c,u],label:"Nama Depan *",props:{type:"text",required:!0}},{Component:P.a,typeInput:"input",state:[f,m],label:"Nama Belakang",props:{type:"text"}},{Component:N.a,typeInput:"select",state:[S,x],label:"Role *",props:{defaultValue:S,showSearch:!0,style:{width:"100%"},optionList:[{value:"admin",name:"Administrator"},{value:"staf",name:"Staf Perkuliahan"},{value:"dosen",name:"Dosen"},{value:"mahasiswa",name:"Mahasiswa"}]}},{Component:N.a,typeInput:"select",state:[T,I],label:"Status *",props:{defaultValue:T,showSearch:!0,style:{width:"100%"},optionList:[{value:"confirmed",name:"Confirmed"},{value:"pending",name:"Pending"},{value:"blocked",name:"Blocked"}]}}],F=[].concat(Object(k.a)(L.slice(0,2)),[{Component:P.a,typeInput:"input",state:[v,O],label:"Email *",props:{type:"email"}},{Component:P.a,typeInput:"input",state:[h,E],label:"Password *",props:{type:"password"}}],Object(k.a)(L.slice(-2)));var U="create"===t?F:L;return l.a.createElement("div",{className:t},l.a.createElement("form",{onChange:function(){return console.log(123)}},U.map(function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("label",null,l.a.createElement("small",null,e.label)),l.a.createElement(e.Component,Object.assign({},e.props,{onChange:function(t){"input"===e.typeInput&&e.state[1](t.target.value),"select"===e.typeInput&&e.state[1](t)},value:e.state[0]})))})))}var D=function(e){return Object.keys(e).map(function(t){return{fieldName:t,value:e[t]}})},_=function(e,t){var n=t||"";return t&&t.length&&t[0]&&("createdBy"===e||"updatedBy"===e)&&(n=t.map(function(e){return e.fullName}).toString()),t&&t.namaGedung&&(n=t.namaGedung),{fieldName:e,value:n}},T=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!e.includes(t)};function V(e){var t=e.openModal,n=e.onClose,a=e.newEntry,o=e.onViewData,i=e.onUpdateSuccess,c=l.a.useState(!1),u=Object(r.a)(c,2),s=u[0],p=u[1],f=l.a.useState("edit"),m=Object(r.a)(f,2),d=m[0],b=m[1],v=l.a.useState({}),k=Object(r.a)(v,2),P=k[0],N=k[1],V=l.a.useState(!1),A=Object(r.a)(V,2),B=A[0],L=A[1],F=Object(y.d)("masterKelas"),U=Object(r.a)(F,2),K=U[0],R=U[1],J=Object(y.c)("KELAS"),W=Object(r.a)(J,2),z=W[0],M=W[1],G=l.a.useState(t),H=Object(r.a)(G,2),Z=H[0],$=H[1],q=Object(y.b)(a),Q=Object(y.b)(t),X=Object(y.b)(M);function Y(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(E.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(!1);case 2:n(),b("edit"),p(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}l.a.useEffect(function(){a&&q!==a&&($(!0),p(!0),b("create")),t&&Q!==t&&($(!0),Object(C.f)(R,{id:o._id})),!1===M&&M!==X&&B&&!z&&("create"!==d?(Object(C.f)(R,{id:o._id}),n(),b("edit"),p(!1)):Y(),K&&K.message&&w.a.success(K.message),L(!1),i())},[R,z,B,M,a,n,Y,i,o._id,t,q,X,Q,d,K]);var te=function(){if("create"===d)Object(C.b)(R,P);else{var e=P;delete e.password,delete e.email,Object(C.e)(R,e,{id:K.data._id})}},ne=function(){Object(C.d)(R,{id:o._id}),Y(),setTimeout(function(){i()},200)},ae=o.namaKelas||K&&K.data&&K.data.namaKelas,re=ae&&"edit"===d?"Kelas "+ae:"Kelas";return l.a.createElement(j.a,{title:re,visible:Z,onCancel:Y,footer:[l.a.createElement(function(){return l.a.createElement(g.a,{title:"Are you sure to delete?",onConfirm:ne},l.a.createElement(h.a,{style:{color:"tomato"},loading:M},"Delete"))},{key:"delete"}),l.a.createElement(h.a,{type:"primary",loading:M,key:"edit",onClick:function(){L(!0),s?te():p(!0)}},s?"Save":"Edit")]},s?l.a.createElement(x,{returnData:N,type:d,payload:K?K.data:{}}):K&&K.data&&!M?l.a.createElement("div",{className:"view"},D(K.data).filter(function(e){return I(["__v"],e.fieldName)}).map(function(e,t){var n=_(e.fieldName,e.value);return l.a.createElement(S.a,{key:t,fieldName:T(n.fieldName),value:n.value})})):l.a.createElement("div",null,"Loading..."))}n(555);t.default=function(e){var t=e.history.location.pathname,n=Object(c.b)().t,o=Object(y.c)("LIST_USER"),v=Object(r.a)(o,2)[1],O=l.a.useState({}),j=Object(r.a)(O,2),g=j[0],h=j[1],E=Object(y.d)("listUser"),w=Object(r.a)(E,2),C=w[0],S=void 0===C?[]:C,k=w[1],P=l.a.useState(!1),N=Object(r.a)(P,2),x=N[0],D=N[1],_=l.a.useState(!1),T=Object(r.a)(_,2),I=T[0],A=T[1],B=l.a.useState(1),L=Object(r.a)(B,2),F=L[0],U=L[1],K=Object(y.b)(S),R=Object(y.b)(t);function J(){Object(s.c)(k,{selected:"status firstName lastName role email"})}l.a.useEffect(function(){S||S===K?t&&R!==t&&J():J()},[S,K,k,J,R,t]);var W=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(a.a,{gutter:24,style:{display:"flex",justifyContent:"flex-end",marginBottom:28}},l.a.createElement(m.a,{onClick:function(){return A(!0)},style:{maxWidth:280,margin:"0 14px",background:"#35b97a"},type:"secondary"},"Create")))};return l.a.createElement(u.a,{withHeader:!0},l.a.createElement(f.a,null,l.a.createElement("title",null,n("dashboard.jamPerkuliahan.pageTitle"))),l.a.createElement(V,{newEntry:I,openModal:x,onViewData:g,onUpdateSuccess:J,onClose:function(){D(!1),A(!1),h({})}}),l.a.createElement(p.a,null,l.a.createElement("div",null,l.a.createElement(i.b,{style:{textDecoration:"underline"},to:"/"},"Home")," / ".concat("User")),l.a.createElement(b.a,{bold:!0,level:2},"User"),l.a.createElement("div",{className:"section-row"},l.a.createElement(d.a,{title:function(){return l.a.createElement(W,null)},data:S?S.data:[],scroll:{x:1300},columnProperty:[{dataIndex:"id",width:50,fixed:"left",sorter:function(e,t){return e.id-t.id}}],excludeColumns:["_id"],onRowClick:function(e){h(e),D(!0)},pagination:{onChange:function(e){U(e)},total:S?S.count:10,defaultCurrent:Number(F)},loading:v}))))}}}]);
//# sourceMappingURL=4.a8e9cb90.chunk.js.map