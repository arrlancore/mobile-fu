(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{462:function(e,t,n){"use strict";var a=n(48),r=(n(236),n(172)),o=n(0),l=n.n(o),c=r.a.Title;t.a=function(e){var t=e.bold,n=e.children,r=Object(a.a)(e,["bold","children"]),o={color:"#7F7F7F",fontWeight:t?"bold":500};return l.a.createElement(c,Object.assign({style:o},r),n)}},463:function(e,t,n){"use strict";var a=n(48),r=n(0),o=n.n(r);t.a=function(e){var t=e.fieldName,n=e.value,r=e.customRender,l=Object(a.a)(e,["fieldName","value","customRender"]),c=r?r(n):n;return o.a.createElement("div",Object.assign({style:{marginBottom:14}},l),o.a.createElement("small",{style:{fontWeight:"bold"}},t),o.a.createElement("div",null,c))}},464:function(e,t,n){"use strict";n(474);var a=n(472),r=n(41),o=n(48),l=n(0),c=n.n(l);n(465);function i(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)};function p(e){var t=e.data,n=e.excludeColumns,r=e.columnProperty,l=Object(o.a)(e,["data","excludeColumns","columnProperty"]),i=function(e){if(e[0]){var t=r;return Object.keys(e[0]).filter(function(e){return!1===n.includes(e)}).map(function(e){for(var n={title:s(e),key:e,dataIndex:e},a=0;a<t.length;a++){var r=t[a];r.dataIndex===e&&(n=u({},n,{},r))}return n})}}(t);return c.a.createElement(a.a,Object.assign({rowKey:function(e){return e.id||e._id},columns:i,dataSource:t&&t[0]?t:null},l))}p.defaultProps={data:[],title:"Result",excludeColumns:[]},t.a=p},465:function(e,t,n){},466:function(e,t,n){"use strict";var a=n(48),r=(n(238),n(77)),o=n(0),l=n.n(o),c=(n(469),r.a.Option);function i(e){var t=e.optionList,n=e.type,o=e.label,i=Object(a.a)(e,["optionList","type","label"]),u="primary"===n,s=u?"#D5D6DB":"#2699FB";return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"select ".concat(o),style:{display:"block",color:s,fontWeight:"bold"}},o),l.a.createElement("div",{className:"select-root ".concat(u||"")},l.a.createElement(r.a,i,t.map(function(e){return l.a.createElement(c,{key:e.value,value:e.value},e.name)}))))}i.defaultProps={optionList:[]},t.a=i},467:function(e,t,n){"use strict";n(22),n(237),n(168)},468:function(e,t,n){"use strict";var a=n(0),r=n(19),o=n(45),l=n(15),c=n(61),i=n(49),u=n(124),s=n(11);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},O=function(e){function t(e){var n,r,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,l=m(t).call(this,e),(n=!l||"object"!==p(l)&&"function"!==typeof l?b(r):l).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(b(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(b(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var r=n.props,o=r.okButtonProps,l=r.cancelButtonProps,i=r.title,u=r.cancelText,s=r.okText,p=r.okType,d=r.icon;return a.createElement("div",null,a.createElement("div",{className:"".concat(e,"-inner-content")},a.createElement("div",{className:"".concat(e,"-message")},d,a.createElement("div",{className:"".concat(e,"-message-title")},i)),a.createElement("div",{className:"".concat(e,"-buttons")},a.createElement(c.a,f({onClick:n.onCancel,size:"small"},l),u||t.cancelText),a.createElement(c.a,f({onClick:n.onConfirm,type:p,size:"small"},o),s||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,r=n.props,l=r.prefixCls,c=r.placement,s=v(r,["prefixCls","placement"]),p=t("popover",l),d=a.createElement(i.a,{componentName:"Popconfirm",defaultLocale:u.a.Popconfirm},function(e){return n.renderOverlay(p,e)});return a.createElement(o.a,f({},s,{prefixCls:p,placement:c,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:d,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a["Component"]),n=t,l=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(r=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return a.createElement(s.a,null,this.renderConfirm)}}])&&d(n.prototype,r),l&&d(n,l),t}();O.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:a.createElement(l.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(r.polyfill)(O),t.a=O},469:function(e,t,n){},551:function(e,t,n){},570:function(e,t,n){"use strict";n.r(t);n(169);var a=n(92),r=n(29),o=n(0),l=n.n(o),c=n(62),i=n(63),u=n(94),s=n(129),p=n(134),f=n(171),d=n(93),m=n(174),b=n(464),y=n(462),v=n(60),O=n(2),g=n.n(O),j=(n(471),n(473)),E=(n(467),n(468)),h=(n(168),n(61)),C=n(6),w=(n(170),n(76)),k=n(463),S=n(125),P=n(466);function x(e){var t=e.type,n=e.returnData,a=e.payload,o=l.a.useState(a?a.namaKelas:""),c=Object(r.a)(o,2),i=c[0],u=c[1],s=l.a.useState(a?a.deskripsi:""),p=Object(r.a)(s,2),f=p[0],d=p[1],m=l.a.useState(a&&a.gedung?a.gedung.namaGedung:""),b=Object(r.a)(m,2),y=b[0],O=b[1],g=l.a.useState(a&&a.gedung?a.gedung._id:""),j=Object(r.a)(g,2),E=j[0],h=j[1],C=Object(v.d)("listMasterGedung"),w=Object(r.a)(C,1)[0],k={namaKelas:i,deskripsi:f,gedung:E},x=Object(v.b)(k),N=Object(v.b)(t);l.a.useEffect(function(){JSON.stringify(x)!==JSON.stringify(k)&&n(k),"create"===t&&N!==t&&(d(""),u(""),O(""),h(""))},[k,x,N,n,t]);var _=[{Component:S.a,typeInput:"input",state:[i,u],label:"Nama Kelas *",props:{type:"text",required:!0}},{Component:S.a,typeInput:"input",state:[f,d],label:"Deskripsi",props:{type:"text"}},{Component:P.a,typeInput:"select",state:[E,h],label:"Gedung *",props:{defaultValue:y||"",showSearch:!0,style:{width:"100%"},optionList:w&&w.data.map(function(e){return{name:e.namaGedung,value:e._id}})}}],D=[].concat(_);var K="create"===t?D:_;return l.a.createElement("div",{className:t},l.a.createElement("form",null,K.map(function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("label",null,l.a.createElement("small",null,e.label)),l.a.createElement(e.Component,Object.assign({},e.props,{onChange:function(t){"input"===e.typeInput&&e.state[1](t.target.value),"select"===e.typeInput&&e.state[1](t)},value:e.state[0]})))})))}var N=function(e){return Object.keys(e).map(function(t){return{fieldName:t,value:e[t]}})},_=function(e,t){var n=t||"";return t&&t.length&&t[0]&&("createdBy"===e||"updatedBy"===e)&&(n=t.map(function(e){return e.fullName}).toString()),t&&t.namaGedung&&(n=t.namaGedung),{fieldName:e,value:n}},D=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!e.includes(t)};function T(e){var t=e.openModal,n=e.onClose,a=e.newEntry,o=e.onViewData,c=e.onUpdateSuccess,i=l.a.useState(!1),u=Object(r.a)(i,2),p=u[0],f=u[1],d=l.a.useState("edit"),m=Object(r.a)(d,2),b=m[0],y=m[1],O=l.a.useState({}),S=Object(r.a)(O,2),P=S[0],T=S[1],V=l.a.useState(!1),G=Object(r.a)(V,2),I=G[0],B=G[1],L=Object(v.d)("masterKelas"),F=Object(r.a)(L,2),A=F[0],M=F[1],R=Object(v.c)("KELAS"),J=Object(r.a)(R,2),U=J[0],W=J[1],z=l.a.useState(t),H=Object(r.a)(z,2),Z=H[0],$=H[1],q=Object(v.b)(a),Q=Object(v.b)(t),X=Object(v.b)(W);function Y(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(C.a)(g.a.mark(function e(t){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(!1);case 2:n(),y("edit"),f(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}l.a.useEffect(function(){a&&q!==a&&($(!0),f(!0),y("create")),t&&Q!==t&&($(!0),Object(s.f)(M,{id:o._id})),!1===W&&W!==X&&I&&!U&&("create"!==b?(Object(s.f)(M,{id:o._id}),n(),y("edit"),f(!1)):Y(),A&&A.message&&w.a.success(A.message),B(!1),c())},[M,U,I,W,a,n,Y,c,o._id,t,q,X,Q,b,A]);var te=function(){if("create"===b)Object(s.b)(M,P);else{var e=P;delete e.password,delete e.email,Object(s.e)(M,e,{id:A.data._id})}},ne=function(){Object(s.d)(M,{id:o._id}),Y(),setTimeout(function(){c()},200)},ae=o.namaKelas||A&&A.data&&A.data.namaKelas,re=ae&&"edit"===b?"Kelas "+ae:"Kelas";return l.a.createElement(j.a,{title:re,visible:Z,onCancel:Y,footer:[l.a.createElement(function(){return l.a.createElement(E.a,{title:"Are you sure to delete?",onConfirm:ne},l.a.createElement(h.a,{style:{color:"tomato"},loading:W},"Delete"))},{key:"delete"}),l.a.createElement(h.a,{type:"primary",loading:W,key:"edit",onClick:function(){B(!0),p?te():f(!0)}},p?"Save":"Edit")]},p?l.a.createElement(x,{returnData:T,type:b,payload:A?A.data:{}}):A&&A.data&&!W?l.a.createElement("div",{className:"view"},N(A.data).filter(function(e){return K(["__v"],e.fieldName)}).map(function(e,t){var n=_(e.fieldName,e.value);return l.a.createElement(k.a,{key:t,fieldName:D(n.fieldName),value:n.value})})):l.a.createElement("div",null,"Loading..."))}n(551);t.default=function(e){var t=e.history.location.pathname,n=Object(i.b)().t,o=Object(v.c)("LIST_KELAS"),O=Object(r.a)(o,2)[1],g=l.a.useState({}),j=Object(r.a)(g,2),E=j[0],h=j[1],C=Object(v.d)("listMasterKelas"),w=Object(r.a)(C,2),k=w[0],S=w[1],P=Object(v.d)("listMasterGedung"),x=Object(r.a)(P,1)[0],N=l.a.useState(!1),_=Object(r.a)(N,2),D=_[0],K=_[1],V=l.a.useState(!1),G=Object(r.a)(V,2),I=G[0],B=G[1],L=l.a.useState(1),F=Object(r.a)(L,2),A=F[0],M=F[1],R=Object(v.b)(k),J=Object(v.b)(t);function U(){Object(s.c)(S,{selected:"namaKelas deskripsi gedung"})}l.a.useEffect(function(){k||k===R?t&&J!==t&&U():U(),!1===O&&k&&R!==k&&!x&&Object(p.c)(S,{selected:"namaGedung"})},[k,R,S,U,J,t,O,x]);var W=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(a.a,{gutter:24,style:{display:"flex",justifyContent:"flex-end",marginBottom:28}},l.a.createElement(m.a,{onClick:function(){return B(!0)},style:{maxWidth:280,margin:"0 14px",background:"#35b97a"},type:"secondary"},"Create")))};return l.a.createElement(u.a,{withHeader:!0},l.a.createElement(d.a,null,l.a.createElement("title",null,n("dashboard.kelas.pageTitle"))),l.a.createElement(T,{newEntry:I,openModal:D,onViewData:E,onUpdateSuccess:U,onClose:function(){K(!1),B(!1),h({})}}),l.a.createElement(f.a,null,l.a.createElement("div",null,l.a.createElement(c.b,{style:{textDecoration:"underline"},to:"/"},"Home")," / ".concat("Kelas")),l.a.createElement(y.a,{bold:!0,level:2},"Kelas"),l.a.createElement("div",{className:"section-row"},l.a.createElement(b.a,{title:function(){return l.a.createElement(W,null)},data:k?k.data:[],scroll:{x:1300},columnProperty:[{dataIndex:"gedung",title:"Gedung",key:"Gedung",render:function(e){return e?e.namaGedung:""}}],excludeColumns:["_id","createdBy"],onRowClick:function(e){h(e),K(!0)},pagination:{onChange:function(e){M(e)},total:k?k.count:10,defaultCurrent:Number(A)},loading:O}))))}}}]);
//# sourceMappingURL=8.dbd5d7dc.chunk.js.map