(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{462:function(e,t,n){"use strict";var a=n(48),r=(n(236),n(172)),o=n(0),l=n.n(o),c=r.a.Title;t.a=function(e){var t=e.bold,n=e.children,r=Object(a.a)(e,["bold","children"]),o={color:"#7F7F7F",fontWeight:t?"bold":500};return l.a.createElement(c,Object.assign({style:o},r),n)}},463:function(e,t,n){"use strict";var a=n(48),r=n(0),o=n.n(r);t.a=function(e){var t=e.fieldName,n=e.value,r=e.customRender,l=Object(a.a)(e,["fieldName","value","customRender"]),c=r?r(n):n;return o.a.createElement("div",Object.assign({style:{marginBottom:14}},l),o.a.createElement("small",{style:{fontWeight:"bold"}},t),o.a.createElement("div",null,c))}},464:function(e,t,n){"use strict";n(474);var a=n(472),r=n(41),o=n(48),l=n(0),c=n.n(l);n(465);function i(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)};function p(e){var t=e.data,n=e.excludeColumns,r=e.columnProperty,l=Object(o.a)(e,["data","excludeColumns","columnProperty"]),i=function(e){if(e[0]){var t=r;return Object.keys(e[0]).filter(function(e){return!1===n.includes(e)}).map(function(e){for(var n={title:s(e),key:e,dataIndex:e},a=0;a<t.length;a++){var r=t[a];r.dataIndex===e&&(n=u({},n,{},r))}return n})}}(t);return c.a.createElement(a.a,Object.assign({rowKey:function(e){return e.id||e._id},columns:i,dataSource:t&&t[0]?t:null},l))}p.defaultProps={data:[],title:"Result",excludeColumns:[]},t.a=p},465:function(e,t,n){},466:function(e,t,n){"use strict";var a=n(48),r=(n(238),n(77)),o=n(0),l=n.n(o),c=(n(469),r.a.Option);function i(e){var t=e.optionList,n=e.type,o=e.label,i=Object(a.a)(e,["optionList","type","label"]),u="primary"===n,s=u?"#D5D6DB":"#2699FB";return l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"select ".concat(o),style:{display:"block",color:s,fontWeight:"bold"}},o),l.a.createElement("div",{className:"select-root ".concat(u||"")},l.a.createElement(r.a,i,t.map(function(e){return l.a.createElement(c,{key:e.value,value:e.value},e.name)}))))}i.defaultProps={optionList:[]},t.a=i},467:function(e,t,n){"use strict";n(22),n(237),n(168)},468:function(e,t,n){"use strict";var a=n(0),r=n(19),o=n(45),l=n(15),c=n(61),i=n(49),u=n(124),s=n(11);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},O=function(e){function t(e){var n,r,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,l=d(t).call(this,e),(n=!l||"object"!==p(l)&&"function"!==typeof l?b(r):l).onConfirm=function(e){n.setVisible(!1,e);var t=n.props.onConfirm;t&&t.call(b(n),e)},n.onCancel=function(e){n.setVisible(!1,e);var t=n.props.onCancel;t&&t.call(b(n),e)},n.onVisibleChange=function(e){n.props.disabled||n.setVisible(e)},n.saveTooltip=function(e){n.tooltip=e},n.renderOverlay=function(e,t){var r=n.props,o=r.okButtonProps,l=r.cancelButtonProps,i=r.title,u=r.cancelText,s=r.okText,p=r.okType,m=r.icon;return a.createElement("div",null,a.createElement("div",{className:"".concat(e,"-inner-content")},a.createElement("div",{className:"".concat(e,"-message")},m,a.createElement("div",{className:"".concat(e,"-message-title")},i)),a.createElement("div",{className:"".concat(e,"-buttons")},a.createElement(c.a,f({onClick:n.onCancel,size:"small"},l),u||t.cancelText),a.createElement(c.a,f({onClick:n.onConfirm,type:p,size:"small"},o),s||t.okText))))},n.renderConfirm=function(e){var t=e.getPrefixCls,r=n.props,l=r.prefixCls,c=r.placement,s=v(r,["prefixCls","placement"]),p=t("popover",l),m=a.createElement(i.a,{componentName:"Popconfirm",defaultLocale:u.a.Popconfirm},function(e){return n.renderOverlay(p,e)});return a.createElement(o.a,f({},s,{prefixCls:p,placement:c,onVisibleChange:n.onVisibleChange,visible:n.state.visible,overlay:m,ref:n.saveTooltip}))},n.state={visible:e.visible},n}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,a["Component"]),n=t,l=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}],(r=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var n=this.props;"visible"in n||this.setState({visible:e});var a=n.onVisibleChange;a&&a(e,t)}},{key:"render",value:function(){return a.createElement(s.a,null,this.renderConfirm)}}])&&m(n.prototype,r),l&&m(n,l),t}();O.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:a.createElement(l.a,{type:"exclamation-circle",theme:"filled"}),disabled:!1},Object(r.polyfill)(O),t.a=O},469:function(e,t,n){},554:function(e,t,n){},560:function(e,t,n){"use strict";n.r(t);n(169);var a=n(92),r=n(29),o=n(0),l=n.n(o),c=n(62),i=n(63),u=n(94),s=n(130),p=n(132),f=n(171),m=n(93),d=n(174),b=n(464),y=n(462),v=n(60),O=n(2),j=n.n(O),h=(n(471),n(473)),g=(n(467),n(468)),E=(n(168),n(61)),k=n(6),C=(n(170),n(76)),w=n(176),P=n(463),S=n(466);function x(e){var t=e.type,n=e.returnData,a=e.payload,o=l.a.useState(a?a.tahunAjar:""),c=Object(r.a)(o,2),i=c[0],u=c[1],s=l.a.useState(a?a.kelas:""),p=Object(r.a)(s,2),f=p[0],m=p[1],d=l.a.useState(a?a.semester:""),b=Object(r.a)(d,2),y=b[0],O=b[1],j=l.a.useState(a&&a.jurusan?a.jurusan._id:""),h=Object(r.a)(j,2),g=h[0],E=h[1],k=Object(v.d)("listMasterJurusan"),C=Object(r.a)(k,1)[0],w=C?C.data:[],P={tahunAjar:i,kelas:f,semester:y,jurusan:g},x=Object(v.b)(P),N=Object(v.b)(t);l.a.useEffect(function(){JSON.stringify(x)!==JSON.stringify(P)&&n(P),"create"===t&&N!==t&&(u(""),O(""),m(""),E(""))},[P,x,N,n,t]);var _=[{Component:S.a,typeInput:"select",state:[i,u],label:"Tahun Ajar *",props:{defaultValue:i,showSearch:!0,style:{width:"100%"},optionList:[{name:"2018/2019",value:"2018/2019"},{name:"2019/2020",value:"2019/2020"}]}},{Component:S.a,typeInput:"select",state:[f,m],label:"Kelas *",props:{defaultValue:f,showSearch:!0,style:{width:"100%"},optionList:[{name:"A",value:"A"},{name:"B",value:"B"},{name:"C",value:"C"}]}},{Component:S.a,typeInput:"select",state:[y,O],label:"Semester *",props:{defaultValue:y,showSearch:!0,style:{width:"100%"},optionList:[{name:"Genap",value:"genap"},{name:"Ganjil",value:"ganjil"}]}},{Component:S.a,typeInput:"select",state:[g,E],label:"Jurusan *",props:{defaultValue:g,showSearch:!0,style:{width:"100%"},optionList:w.map(function(e){return{name:e.namaJurusan,value:e._id}})}}],A=[].concat(_);var D="create"===t?A:_;return l.a.createElement("div",{className:t},l.a.createElement("form",{onChange:function(){return console.log(123)}},D.map(function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("label",null,l.a.createElement("small",null,e.label)),l.a.createElement(e.Component,Object.assign({},e.props,{onChange:function(t){"input"===e.typeInput&&e.state[1](t.target.value),"select"===e.typeInput&&e.state[1](t)},value:e.state[0]})))})))}var N=function(e){return Object.keys(e).map(function(t){return{fieldName:t,value:e[t]}})},_=function(e,t){try{var n=t,a="object"===Object(w.a)(t)&&Object.keys(t||[]).length;return a&&t[0]&&("createdBy"===e||"updatedBy"===e)&&(n=t.map(function(e){return e.fullName}).toString()),a&&t.namaJurusan&&(n=t.namaJurusan),{fieldName:e,value:n}}catch(r){console.log(r)}},A=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!e.includes(t)};function I(e){var t=e.openModal,n=e.onClose,a=e.newEntry,o=e.onViewData,c=e.onUpdateSuccess,i=l.a.useState(!1),u=Object(r.a)(i,2),p=u[0],f=u[1],m=l.a.useState("edit"),d=Object(r.a)(m,2),b=d[0],y=d[1],O=l.a.useState({}),w=Object(r.a)(O,2),S=w[0],I=w[1],V=l.a.useState(!1),T=Object(r.a)(V,2),J=T[0],L=T[1],B=Object(v.d)("masterPerkuliahan"),F=Object(r.a)(B,2),R=F[0],U=F[1],K=Object(v.c)("PERKULIAHAN"),M=Object(r.a)(K,2),H=M[0],W=M[1],z=l.a.useState(t),G=Object(r.a)(z,2),Z=G[0],$=G[1],q=Object(v.b)(a),Q=Object(v.b)(t),X=Object(v.b)(W);function Y(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(k.a)(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(!1);case 2:n(),y("edit"),f(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}l.a.useEffect(function(){a&&q!==a&&($(!0),f(!0),y("create")),t&&Q!==t&&($(!0),Object(s.f)(U,{id:o._id||R._id})),!1===W&&W!==X&&J&&!H&&("create"!==b?(Object(s.f)(U,{id:o._id||R._id}),n(),y("edit"),f(!1)):Y(),R&&R.message&&C.a.success(R.message),L(!1),c())},[U,H,J,W,a,n,Y,c,o._id,t,q,X,Q,b,R]);var te=function(){if("create"===b)Object(s.b)(U,S);else{var e=S;delete e.password,delete e.email,Object(s.e)(U,e,{id:R.data._id})}},ne=function(){Object(s.d)(U,{id:o._id}),Y(),setTimeout(function(){c()},200)},ae=o.deskripsiPerkuliahan||R&&R.data&&R.data.deskripsiPerkuliahan,re=ae&&"edit"===b?ae:"Perkuliahan";return l.a.createElement(h.a,{title:re,visible:Z,onCancel:Y,footer:[l.a.createElement(function(){return l.a.createElement(g.a,{title:"Are you sure to delete?",onConfirm:ne},l.a.createElement(E.a,{style:{color:"tomato"},loading:W},"Delete"))},{key:"delete"}),l.a.createElement(E.a,{type:"primary",loading:W,key:"edit",onClick:function(){L(!0),p?te():f(!0)}},p?"Save":"Edit")]},p?l.a.createElement(x,{returnData:I,type:b,payload:R?R.data:{}}):R&&R.data&&!W?l.a.createElement("div",{className:"view"},N(R.data).filter(function(e){return D(["__v"],e.fieldName)}).map(function(e,t){var n=_(e.fieldName,e.value);return l.a.createElement(P.a,{key:t,fieldName:A(n.fieldName),value:n.value})})):l.a.createElement("div",null,"Loading..."))}n(554);t.default=function(e){var t=e.history.location.pathname,n=Object(i.b)().t,o=Object(v.c)("LIST_PERKULIAHAN"),O=Object(r.a)(o,2)[1],j=l.a.useState({}),h=Object(r.a)(j,2),g=h[0],E=h[1],k=Object(v.d)("listMasterPerkuliahan"),C=Object(r.a)(k,2),w=C[0],P=C[1],S=Object(v.d)("listMasterJurusan"),x=Object(r.a)(S,1)[0],N=l.a.useState(!1),_=Object(r.a)(N,2),A=_[0],D=_[1],V=l.a.useState(!1),T=Object(r.a)(V,2),J=T[0],L=T[1],B=l.a.useState(1),F=Object(r.a)(B,2),R=F[0],U=F[1],K=Object(v.b)(w),M=Object(v.b)(x),H=Object(v.b)(t);function W(){Object(s.c)(P,{selected:"tahunAjar isActive semester semesterKe kelas deskripsiPerkuliahan"})}l.a.useEffect(function(){!1===O&&w&&K!==w&&!x&&Object(p.c)(P,{selected:"namaJurusan"}),w||w===K?t&&H!==t&&W():W()},[w,K,P,W,H,t,O,x,M]);var z=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(a.a,{gutter:24,style:{display:"flex",justifyContent:"flex-end",marginBottom:28}},l.a.createElement(d.a,{onClick:function(){return L(!0)},style:{maxWidth:280,margin:"0 14px",background:"#35b97a"},type:"secondary"},"Create")))},G=[{dataIndex:"jurusan",title:"Jurusan",key:"Jurusan",render:function(e){return e.namaJurusan}},{dataIndex:"isActive",title:"Is Active",key:"Is Active",render:function(e){return String(e)}}];return l.a.createElement(u.a,{withHeader:!0},l.a.createElement(m.a,null,l.a.createElement("title",null,n("dashboard.perkuliahan.pageTitle"))),l.a.createElement(I,{newEntry:J,openModal:A,onViewData:g,onUpdateSuccess:W,onClose:function(){D(!1),L(!1),E({})}}),l.a.createElement(f.a,null,l.a.createElement("div",null,l.a.createElement(c.b,{style:{textDecoration:"underline"},to:"/"},"Home")," / ".concat("Perkuliahan")),l.a.createElement(y.a,{bold:!0,level:2},"Perkuliahan"),l.a.createElement("div",{className:"section-row"},l.a.createElement(b.a,{title:function(){return l.a.createElement(z,null)},data:w?w.data:[],scroll:{x:1300},columnProperty:G,excludeColumns:["_id","createdBy","deskripsiPerkuliahan"],onRowClick:function(e){E(e),D(!0)},pagination:{onChange:function(e){U(e)},total:w?w.count:10,defaultCurrent:Number(R)},loading:O}))))}}}]);
//# sourceMappingURL=10.d30a6651.chunk.js.map