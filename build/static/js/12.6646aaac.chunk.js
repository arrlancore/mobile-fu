(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{462:function(e,t,a){"use strict";var n=a(48),l=(a(236),a(172)),r=a(0),c=a.n(r),u=l.a.Title;t.a=function(e){var t=e.bold,a=e.children,l=Object(n.a)(e,["bold","children"]),r={color:"#7F7F7F",fontWeight:t?"bold":500};return c.a.createElement(u,Object.assign({style:r},l),a)}},463:function(e,t,a){"use strict";var n=a(48),l=a(0),r=a.n(l);t.a=function(e){var t=e.fieldName,a=e.value,l=e.customRender,c=Object(n.a)(e,["fieldName","value","customRender"]),u=l?l(a):a;return r.a.createElement("div",Object.assign({style:{marginBottom:14}},c),r.a.createElement("small",{style:{fontWeight:"bold"}},t),r.a.createElement("div",null,u))}},464:function(e,t,a){"use strict";a(474);var n=a(472),l=a(41),r=a(48),c=a(0),u=a.n(c);a(465);function i(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)};function d(e){var t=e.data,a=e.excludeColumns,l=e.columnProperty,c=Object(r.a)(e,["data","excludeColumns","columnProperty"]),i=function(e){if(e[0]){var t=l;return Object.keys(e[0]).filter(function(e){return!1===a.includes(e)}).map(function(e){for(var a={title:s(e),key:e,dataIndex:e},n=0;n<t.length;n++){var l=t[n];l.dataIndex===e&&(a=o({},a,{},l))}return a})}}(t);return u.a.createElement(n.a,Object.assign({rowKey:function(e){return e.id||e._id},columns:i,dataSource:t&&t[0]?t:null},c))}d.defaultProps={data:[],title:"Result",excludeColumns:[]},t.a=d},465:function(e,t,a){},466:function(e,t,a){"use strict";var n=a(48),l=(a(238),a(77)),r=a(0),c=a.n(r),u=(a(469),l.a.Option);function i(e){var t=e.optionList,a=e.type,r=e.label,i=Object(n.a)(e,["optionList","type","label"]),o="primary"===a,s=o?"#D5D6DB":"#2699FB";return c.a.createElement(c.a.Fragment,null,c.a.createElement("label",{htmlFor:"select ".concat(r),style:{display:"block",color:s,fontWeight:"bold"}},r),c.a.createElement("div",{className:"select-root ".concat(o||"")},c.a.createElement(l.a,i,t.map(function(e){return c.a.createElement(u,{key:e.value,value:e.value},e.name)}))))}i.defaultProps={optionList:[]},t.a=i},469:function(e,t,a){},546:function(e,t,a){},571:function(e,t,a){"use strict";a.r(t);a(175);var n=a(55),l=(a(169),a(92)),r=a(29),c=a(0),u=a.n(c),i=a(62),o=a(63),s=a(94),d=a(128),p=a(130),m=a(126),b=a(129),f=a(131),O=a(171),j=a(93),y=a(174),h=a(464),v=a(466),g=a(462),k=a(60),E=a(2),w=a.n(E),S=(a(471),a(473)),P=(a(467),a(468)),K=(a(168),a(61)),C=a(41),D=a(6),_=(a(170),a(76)),I=a(176),M=a(463),N=(a(558),a(556)),x=a(470),L=a.n(x),J=a(125);function F(e){var t=e.type,a=e.returnData,n=e.payload;console.log("TCL: FormInput -> payload",n);var l=u.a.useState(n?n.pertemuan:""),c=Object(r.a)(l,2),i=c[0],o=c[1],s=u.a.useState(n?n.waktuMulai:""),d=Object(r.a)(s,2),p=d[0],m=d[1],b=u.a.useState(n?n.waktuSelesai:""),f=Object(r.a)(b,2),O=f[0],j=f[1],y=u.a.useState(n?L()(n.tanggal):""),h=Object(r.a)(y,2),g=h[0],E=h[1],w=u.a.useState(n&&n.dosen?n.dosen._id:""),S=Object(r.a)(w,2),P=S[0],K=S[1],C=u.a.useState(n&&n.kelas?n.kelas._id:""),D=Object(r.a)(C,2),_=D[0],I=D[1],x=u.a.useState(n&&n.mataKuliah?n.mataKuliah._id:""),F=Object(r.a)(x,2),A=F[0],T=F[1],W=Object(k.d)("listUser"),B=Object(r.a)(W,1)[0],V=B?B.data.map(function(e){return{name:e.fullName,value:e._id}}):[],H=Object(k.d)("listMasterKelas"),U=Object(r.a)(H,1)[0],R=U?U.data.map(function(e){return{name:e.namaKelas,value:e._id}}):[],q=Object(k.d)("listMastermataKuliah"),Z=Object(r.a)(q,1)[0],$=Z?Z.data.map(function(e){return{name:"".concat(e.namaMataKuliah," (").concat(e.kodeMataKuliah,")"),value:e._id}}):[],z={pertemuan:i,waktuMulai:p,waktuSelesai:O,tanggal:g?g.toISOString():null,dosen:P,kelas:_,mataKuliah:A,perkuliahan:n.perkuliahan&&n.perkuliahan._id||n.perkuliahan};console.log("TCL: FormInput -> nextData",z);var G=Object(k.b)(z),Q=Object(k.b)(t);u.a.useEffect(function(){JSON.stringify(G)!==JSON.stringify(z)&&a(z),"create"===t&&Q!==t&&(o(null),m(null),j(null),E(null),K(null),I(null),T(null))},[z,G,Q,a,t]);var X=function(e,t){var a=t?m:j;e.length<=5&&a(e)},Y=[{Component:N.a,typeInput:"date",state:[g,E],label:"Tanggal Pertemuan *",props:{defaultValue:p}},{Component:J.a,typeInput:"input",state:[p,function(e){return X(e,!0)}],label:"Waktu Mulai *",props:{placeholder:"HH:mm"}},{Component:J.a,typeInput:"input",state:[O,function(e){return X(e,!1)}],label:"Waktu Selesai *",props:{placeholder:"HH:mm"}},{Component:J.a,typeInput:"input",state:[i,o],label:"Pertemuan *",props:{type:"number",max:16}},{Component:v.a,typeInput:"select",state:[A,T],label:"Mata Kuliah *",props:{defaultValue:A,showSearch:!0,style:{width:"100%"},optionList:$}},{Component:v.a,typeInput:"select",state:[_,I],label:"Kelas *",props:{defaultValue:_,showSearch:!0,style:{width:"100%"},optionList:R}},{Component:v.a,typeInput:"select",state:[P,K],label:"Dosen *",props:{defaultValue:P,showSearch:!0,style:{width:"100%"},optionList:V}}],ee=[].concat(Y);var te="create"===t?ee:Y;return u.a.createElement("div",{className:t},u.a.createElement("form",{onChange:function(){return console.log(123)}},u.a.createElement(M.a,{fieldName:"Perkuliahan",value:n.deskripsiPerkuliahan}),te.map(function(e,t){return u.a.createElement("div",{key:t},u.a.createElement("label",null,u.a.createElement("small",null,e.label)),u.a.createElement("div",null,u.a.createElement(e.Component,Object.assign({},e.props,{onChange:function(t,a){"input"===e.typeInput&&e.state[1](t.target.value),"select"!==e.typeInput&&"date"!==e.typeInput||e.state[1](t),"time"===e.typeInput&&(console.log(t,a),e.state[1](a))},value:e.state[0]}))))})))}function A(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(C.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var W=function(e){return Object.keys(e).map(function(t){return{fieldName:t,value:e[t]}})},B=function(e,t){try{var a=t,n="object"===Object(I.a)(t)&&Object.keys(t||[]).length;return"tanggal"===e&&(a=new Date(t).toLocaleDateString()),n&&(!t[0]||"createdBy"!==e&&"updatedBy"!==e||(a=t.map(function(e){return e.fullName}).toString()),"dosen"===e&&t.fullName&&(a=t.fullName),t.namaKelas&&(a=t.namaKelas),t.namaMataKuliah&&(a=t.namaMataKuliah),t.deskripsiPerkuliahan&&(a=t.deskripsiPerkuliahan)),{fieldName:e,value:a}}catch(l){console.log(l)}},V=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return!e.includes(t)};function U(e){var t=e.query,a=e.openModal,n=e.onClose,l=e.newEntry,c=e.onViewData,i=e.onUpdateSuccess,o=u.a.useState(!1),s=Object(r.a)(o,2),p=s[0],m=s[1],b=u.a.useState("edit"),f=Object(r.a)(b,2),O=f[0],j=f[1],y=u.a.useState({}),h=Object(r.a)(y,2),v=h[0],g=h[1],E=u.a.useState(!1),C=Object(r.a)(E,2),I=C[0],N=C[1],x=Object(k.d)("jadwal"),L=Object(r.a)(x,2),J=L[0],A=L[1],U=Object(k.c)("JADWAL"),R=Object(r.a)(U,2),q=R[0],Z=R[1],$=u.a.useState(a),z=Object(r.a)($,2),G=z[0],Q=z[1],X=Object(k.b)(l),Y=Object(k.b)(a),ee=Object(k.b)(Z);function te(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(D.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(!1);case 2:n(),j("edit"),m(!1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}u.a.useEffect(function(){l&&X!==l&&(Q(!0),m(!0),j("create")),a&&Y!==a&&(Q(!0),Object(d.f)(A,{id:c._id||J._id})),!1===Z&&Z!==ee&&I&&!q&&("create"!==O?(Object(d.f)(A,{id:c._id||J._id}),n(),j("edit"),m(!1)):te(),J&&J.message&&_.a.success(J.message),N(!1),i())},[A,q,I,Z,l,n,te,i,c._id,a,X,ee,Y,O,J]);var ne=function(){if("create"===O)Object(d.b)(A,T({},v));else{var e=T({},v);Object(d.e)(A,e,{id:J.data._id})}},le=function(){Object(d.d)(A,{id:c._id}),te(),setTimeout(function(){i()},200)},re=c._id||J&&J.data&&J.data._id,ce=re&&"edit"===O?"Jadwal ID "+re:"Jadwal",ue=J?T({},t,{},J.data):t;return u.a.createElement(S.a,{title:ce,visible:G,onCancel:te,footer:[u.a.createElement(function(){return u.a.createElement(P.a,{title:"Are you sure to delete?",onConfirm:le},u.a.createElement(K.a,{style:{color:"tomato"},loading:Z},"Delete"))},{key:"delete"}),u.a.createElement(K.a,{type:"primary",loading:Z,key:"edit",onClick:function(){N(!0),p?ne():m(!0)}},p?"Save":"Edit")]},p?u.a.createElement(F,{returnData:g,type:O,payload:ue}):J&&J.data&&!Z?u.a.createElement("div",{className:"view"},W(J.data).filter(function(e){return H(["__v"],e.fieldName)}).map(function(e,t){var a=B(e.fieldName,e.value);return u.a.createElement(M.a,{key:t,fieldName:V(a.fieldName),value:a.value})})):u.a.createElement("div",null,"Loading..."))}a(546);t.default=function(e){var t=e.history.location.pathname,a=Object(o.b)().t,c=Object(k.c)("LIST_JADWAL"),E=Object(r.a)(c,2)[1],w=u.a.useState({}),S=Object(r.a)(w,2),P=S[0],K=S[1],C=u.a.useState(""),D=Object(r.a)(C,2),_=D[0],I=D[1],M=u.a.useState(void 0),N=Object(r.a)(M,2),x=N[0],L=N[1],J=u.a.useState(""),F=Object(r.a)(J,2),A=F[0],T=F[1],W=u.a.useState(""),B=Object(r.a)(W,2),V=B[0],H=B[1],R=Object(k.d)("listJadwal"),q=Object(r.a)(R,2),Z=q[0],$=q[1],z=Object(k.d)("listMastermataKuliah"),G=Object(r.a)(z,1)[0],Q=G?G.data.map(function(e){return{name:"".concat(e.namaMataKuliah," (").concat(e.kodeMataKuliah,")"),value:e._id}}):[],X={perkuliahan:x,mataKuliah:A,deskripsiPerkuliahan:_},Y=Object(k.d)("listUser"),ee=Object(r.a)(Y,1)[0],te=Object(k.d)("listMasterKelas"),ae=Object(r.a)(te,1)[0],ne=Object(k.d)("listMasterPerkuliahan"),le=Object(r.a)(ne,1)[0],re=le?le.data:[],ce=u.a.useState(!1),ue=Object(r.a)(ce,2),ie=ue[0],oe=ue[1],se=u.a.useState(!1),de=Object(r.a)(se,2),pe=de[0],me=de[1],be=u.a.useState(1),fe=Object(r.a)(be,2),Oe=fe[0],je=fe[1],ye=Object(k.b)(Z),he=Object(k.b)(le),ve=Object(k.b)(t),ge=Object(k.b)(x),ke=Object(k.b)(A),Ee=Object(k.b)(V);function we(){var e={selected:"pertemuan waktuMulai waktuSelesai tanggal",perkuliahan:x};A&&(e.mataKuliah=A),Object(d.c)($,e)}u.a.useEffect(function(){le||he===le||Object(p.c)($,{selected:"deskripsiPerkuliahan"}),x&&V!==Ee&&V&&Object(f.c)($,{selected:"namaMataKuliah kodeMataKuliah",jurusan:V}),x&&x!==ge&&we(),A&&x&&A!==ke&&we(),Z&&Z!==ye&&Object(m.c)($,{role:"dosen",selected:"fullName"}),Z&&Z!==ye&&Object(b.c)($,{selected:"namaKelas"})},[$,we,ve,t,Z,ye,le,he,x,ge,A,ke,ee,ae,V,Ee]);var Se=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(l.a,{gutter:24,style:{display:"flex",justifyContent:"flex-end",marginBottom:28}},u.a.createElement(y.a,{onClick:function(){return me(!0)},style:{maxWidth:280,margin:"0 14px",background:"#35b97a"},type:"secondary"},"Create")))},Pe=[{dataIndex:"tanggal",render:function(e){return new Date(e).toLocaleDateString()}},{dataIndex:"dosen",title:"Dosen",key:"Dosen",render:function(e){return e&&e.fullName}},{dataIndex:"mataKuliah",title:"Mata Kuliah",key:"mataKuliah",render:function(e){return e&&e.namaMataKuliah}},{dataIndex:"kelas",title:"Kelas",key:"kelas",render:function(e){return e&&e.namaKelas}},{dataIndex:"kelas",title:"Kelas",key:"Kelas",render:function(e){return e&&e.namaKelas}},{dataIndex:"perkuliahan",title:"Jurusan",key:"Jurusan",render:function(e){return e&&e.jurusan&&e.jurusan.namaJurusan}}];return u.a.createElement(s.a,{withHeader:!0},u.a.createElement(j.a,null,u.a.createElement("title",null,a("dashboard.jadwal.pageTitle"))),u.a.createElement(U,{newEntry:pe,query:X,openModal:ie,onViewData:P,onUpdateSuccess:we,onClose:function(){oe(!1),me(!1),K({})}}),u.a.createElement(O.a,null,u.a.createElement("div",null,u.a.createElement(i.b,{style:{textDecoration:"underline"},to:"/"},"Home")," / ".concat("Jadwal")),u.a.createElement(g.a,{bold:!0,level:2},"Jadwal"),u.a.createElement("div",{className:"section-row"},u.a.createElement(l.a,{gutter:24},u.a.createElement(n.a,{span:6},u.a.createElement(v.a,{type:"secondary",label:"Pilih Perkuliahan",optionList:re.map(function(e){return{name:e.deskripsiPerkuliahan,value:e._id}}),showSearch:!0,style:{width:"100%"},placeholder:"select",optionFilterProp:"children",onChange:function(e){var t=re.filter(function(t){return t._id===e});I(t[0].deskripsiPerkuliahan),H(t[0].jurusan._id),L(e)}}))),u.a.createElement(l.a,{gutter:24},x?u.a.createElement(n.a,{style:{marginTop:20},span:6},u.a.createElement("label",null,"Filter:"),u.a.createElement(v.a,{allowClear:!0,type:"secondary",label:"Mata Kuliah",defaultValue:A||"Semua",optionList:Q,showSearch:!0,style:{width:"100%"},placeholder:"select",optionFilterProp:"children",onChange:T})):"")),u.a.createElement("div",{className:"section-row"},Z&&x?u.a.createElement(h.a,{title:function(){return u.a.createElement(Se,null)},data:Z?Z.data:[],scroll:{x:1300},columnProperty:Pe,excludeColumns:["_id","createdBy"],onRowClick:function(e){K(e),oe(!0)},pagination:{onChange:function(e){je(e)},total:Z?Z.count:10,defaultCurrent:Number(Oe)},loading:E}):"")))}}}]);
//# sourceMappingURL=12.6646aaac.chunk.js.map